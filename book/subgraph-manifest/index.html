<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Subgraph Manifest - Hybrid Network</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Hybrid Network Spec.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="affix"><a href="../index.html">Hybrid Network</a></li><li><a href="../architecture-overview/index.html"><strong aria-hidden="true">1.</strong> Architecture Overview</a></li><li><a href="../mechanism-design/index.html"><strong aria-hidden="true">2.</strong> Mechanism Design</a></li><li><a href="../query-processing/index.html"><strong aria-hidden="true">3.</strong> Query Processing</a></li><li><a href="../payment-channels/index.html"><strong aria-hidden="true">4.</strong> Payment Channels</a></li><li><a href="../read-interface/index.html"><strong aria-hidden="true">5.</strong> Read Interface</a></li><li><a href="../messages/index.html"><strong aria-hidden="true">6.</strong> Messages</a></li><li><a href="../rpc-api/index.html"><strong aria-hidden="true">7.</strong> JSON-RPC API</a></li><li><a href="../datasets/index.html"><strong aria-hidden="true">8.</strong> Datasets</a></li><li><a href="../data-modeling/index.html"><strong aria-hidden="true">9.</strong> Data Modeling</a></li><li><a href="../subgraph-manifest/index.html" class="active"><strong aria-hidden="true">10.</strong> Subgraph Manifest</a></li><li><a href="../mappings-api/index.html"><strong aria-hidden="true">11.</strong> Mappings API</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Hybrid Network</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#subgraph-manifest" id="subgraph-manifest">Subgraph Manifest</a></h1>
<p><strong>TODO</strong> This file has moved to https://github.com/graphprotocol/graph-node. Please confirm. Datasets references this file with ../subgraph-manifest, so it needs to remain in this repo.</p>
<h2><a class="header" href="#overview" id="overview">Overview</a></h2>
<p>The Subgraph manifest specifies all the information required to index and query a specific subgraph. It is the entry point to your subgraph, so to speak.</p>
<p>The subgraph manifest, and all the files linked from it, are what is deployed to IPFS, and hashed to produce a subgraph ID that can be referenced on Ethereum and used to retrieve your subgraph in The Graph.</p>
<h2><a class="header" href="#format" id="format">Format</a></h2>
<p>The subgraph manifest follows the IPLD specification, which defines a data model for linking decentralized and universally addressable data structures.<a href="#footnotes"><sup>1</sup></a> Supported formats include YAML and JSON. All examples in this section are written as YAML.</p>
<h2><a class="header" href="#top-level-api" id="top-level-api">Top-Level API</a></h2>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>specVersion</strong></td><td><em>String</em></td><td>A semver version indicating which version of this API is being used.</td></tr>
<tr><td><strong>schema</strong></td><td><a href="#schema"><em>Schema</em></a></td><td>The GraphQL schema of this subgraph</td></tr>
<tr><td><strong>dataSources</strong></td><td><a href="#data-source"><em>[Data Source Spec]</em></a></td><td>Each Data Source spec defines data which will be ingested, and transformation logic to derive the state of the subgraph's entities based on the source data.</td></tr>
</tbody></table>
<h2><a class="header" href="#schema" id="schema">Schema</a></h2>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>file</strong></td><td><a href="#path"><em>Path</em></a></td><td>The path of the GraphQL IDL file, either locally or on IPFS</td></tr>
</tbody></table>
<h2><a class="header" href="#data-source" id="data-source">Data Source</a></h2>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>kind</strong></td><td>*String</td><td>The type of data source. Possible values: <em>ethereum/contract</em></td></tr>
<tr><td><strong>name</strong></td><td><em>String</em></td><td>The name of the source data. Will be used to generate APIs in mapping, and also for self-documentation purposes</td></tr>
<tr><td><strong>source</strong></td><td><a href="#ethereumcontractsource"><em>EthereumContractSource</em></a></td><td>The source data on a blockchain such as Ethereum</td></tr>
<tr><td><strong>mapping</strong></td><td><a href="#mapping"><em>Mapping</em></a></td><td>The transformation logic applied to the data prior to being indexed</td></tr>
</tbody></table>
<h3><a class="header" href="#ethereumcontractsource" id="ethereumcontractsource">EthereumContractSource</a></h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td><em>String</em></td><td>The address of the source data in its respective blockchain</td></tr>
<tr><td><strong>abi</strong></td><td><em>String</em></td><td>The name of the ABI for this Ethereum contract (see <code>abis</code> in <code>mapping</code> manifest)</td></tr>
</tbody></table>
<h3><a class="header" href="#mapping" id="mapping">Mapping</a></h3>
<p>The <code>mapping</code> field may be one of the following supported mapping manifests:</p>
<ul>
<li><a href="#ethereum-events-mapping">Ethereum Events Mapping</a></li>
</ul>
<h4><a class="header" href="#ethereum-events-mapping" id="ethereum-events-mapping">Ethereum Events Mapping</a></h4>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>kind</strong></td><td><em>String</em></td><td>Must be &quot;ethereum/events&quot; for Ethereum Events Mapping</td></tr>
<tr><td><strong>apiVersion</strong></td><td><em>String</em></td><td>Semver string of the version of the Mappings API which will be used by the mapping script</td></tr>
<tr><td><strong>language</strong></td><td><em>String</em></td><td>The language of the runtime for the Mapping API. Possible values: <em>wasm/assemblyscript</em></td></tr>
<tr><td><strong>entities</strong></td><td><em>[String]</em></td><td>A list of entities which will be ingested as part of this mapping. Must correspond to names of entities in the GraphQL IDL</td></tr>
<tr><td><strong>abis</strong></td><td><em>ABI</em></td><td>ABIs for the contract classes which should be generated in the Mapping ABI. Name is also used to reference the ABI elsewhere in the manifest</td></tr>
<tr><td><strong>eventHandlers</strong></td><td><em>EventHandler</em></td><td>Handlers for specific events, which will be defined in the mapping script</td></tr>
<tr><td><strong>file</strong></td><td><a href="#path"><em>Path</em></a></td><td>The path of the mapping script</td></tr>
</tbody></table>
<h4><a class="header" href="#eventhandler" id="eventhandler">EventHandler</a></h4>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>event</strong></td><td><em>String</em></td><td>An identifier for an event which will be handled in the mapping script. For Ethereum contracts, this must be the full event signature to disambiguate from events which may share the same name.</td></tr>
<tr><td><strong>handler</strong></td><td><em>String</em></td><td>The name of an exported function in the mapping script which should handle the specified event.</td></tr>
</tbody></table>
<h2><a class="header" href="#path" id="path">Path</a></h2>
<p>A path has one field <code>path</code> which either refers to a path of a file on the local dev machine, or an <a href="#footnotes">IPLD link</a>.</p>
<p>When using the Graph-CLI, local paths may be used during development, and then the tool will take care of deploying linked files to IPFS and replacing the local paths with IPLD links at deploy time.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>path</strong></td><td><em>String or IPLD Link</em></td><td>A path to a local file or an IPLD link</td></tr>
</tbody></table>
<h2><a class="header" href="#footnotes" id="footnotes">Footnotes</a></h2>
<ul>
<li>[1] https://github.com/ipld/specs</li>
<li>[2] https://github.com/ipld/specs/blob/master/Codecs/DAG-JSON.md</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../data-modeling/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../mappings-api/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../data-modeling/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../mappings-api/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
